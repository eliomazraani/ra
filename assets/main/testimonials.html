<!-- Testimonials -->
<div class="title">Our Happy Clients</div>
<div class="testimonialTab"></div>
<div class="dots"></div>

<script>
    fetch('http://localhost:1337/api/testimonials')
        .then(res => res.json())
        .then(data => {
            const testimonial = data?.data?.map(t => {
            return `<div class="clientTestimonial fade">
                        <img src="assets/img/Client.png" alt="Img">
                        <div class="testimonial">“${t?.attributes?.testimonial}”</div>
                        <div class="name">${t?.attributes?.name} ${t?.id}</div>
                    </div>`;
            }).join('');
            document.querySelector(".testimonialTab").innerHTML = testimonial;
            let testimonials = document.getElementsByClassName("clientTestimonial");
            let dot = "";
            for (i = 0; i < testimonials.length; i++) {
                if (i === 0) {
                    dot += `<span class="dot active"></span>`;
                } else {
                    dot += `<span class="dot"></span>`;
                }
            }
            document.querySelector(".dots").innerHTML = dot;
            showTestimonials();
        })
        .catch(err => {
            console.error(err);
        });
</script>